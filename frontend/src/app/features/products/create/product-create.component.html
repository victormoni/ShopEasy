<div class="product-create-container">
  <h2>Cadastrar Novo Produto</h2>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Nome:</label>
      <input id="name" formControlName="name" />
      <div
        class="validation-error"
        *ngIf="
          productForm.get('name')?.invalid && productForm.get('name')?.touched
        "
      >
        Nome obrigatório (até 100 caracteres).
      </div>
    </div>

    <div class="form-group">
      <label for="description">Descrição:</label>
      <textarea id="description" formControlName="description"></textarea>
      <div
        class="validation-error"
        *ngIf="
          productForm.get('description')?.invalid &&
          productForm.get('description')?.touched
        "
      >
        Máximo de 1000 caracteres.
      </div>
    </div>

    <div class="form-group">
      <label for="price">Preço (R$):</label>
      <input id="price" type="number" formControlName="price" />
      <div
        class="validation-error"
        *ngIf="
          productForm.get('price')?.invalid && productForm.get('price')?.touched
        "
      >
        Preço obrigatório e não negativo.
      </div>
    </div>

    <div class="form-group">
      <label for="stock">Estoque:</label>
      <input id="stock" type="number" formControlName="stock" />
      <div
        class="validation-error"
        *ngIf="
          productForm.get('stock')?.invalid && productForm.get('stock')?.touched
        "
      >
        Estoque obrigatório e ≥ 0.
      </div>
    </div>

    <div class="buttons-group">
      <button type="submit" [disabled]="productForm.invalid || loading">
        {{ loading ? "Salvando..." : "Salvar" }}
      </button>

      <button type="button" (click)="cancel()" [disabled]="loading">
        Cancelar
      </button>
    </div>
  </form>
</div>
